@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
}

@layer base {
  body {
    @apply bg-bg-primary text-text-primary antialiased;
  }

  /* Custom scrollbar for the dark theme */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-bg-secondary;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-border-default rounded-full hover:bg-accent-primary transition-colors;
  }

  /* Improved focus styles */
  :focus-visible {
    @apply outline-none ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary;
  }

  /* Custom range input styling */
  input[type="range"] {
    @apply h-1.5 rounded-full bg-bg-tertiary;
    -webkit-appearance: none;
  }

  input[type="range"]::-webkit-slider-thumb {
    @apply w-4 h-4 rounded-full bg-accent-primary cursor-pointer;
    -webkit-appearance: none;
  }

  input[type="range"]::-moz-range-thumb {
    @apply w-4 h-4 rounded-full bg-accent-primary cursor-pointer border-none;
  }

  /* Custom date input styling */
  input[type="date"] {
    @apply bg-bg-tertiary border border-border-default rounded-md px-4 py-2.5
           text-text-primary focus:outline-none focus:border-accent-primary
           cursor-pointer transition-colors duration-200;
  }

  /* Form controls */
  input[type="text"],
  input[type="search"],
  textarea {
    @apply transition-colors duration-200;
  }

  input[type="date"]::-webkit-calendar-picker-indicator {
    @apply filter invert opacity-70 hover:opacity-100 cursor-pointer;
  }
}

@layer components {
  /* Task status animations */
  .task-complete-animation {
    animation: taskComplete 0.3s ease-in-out;
  }

  @keyframes taskComplete {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
    }
  }

  /* Hover transitions */
  .hover-transition {
    @apply transition-all duration-200 ease-in-out;
  }

  /* Enhanced button system for ADHD-friendly design */
  .btn-primary {
    @apply bg-accent-primary text-text-onAccent rounded-md px-6 py-2.5 text-sm font-medium
           hover:bg-accent-primaryHover active:bg-accent-primaryActive
           transition-colors duration-200
           focus:outline-none focus:ring-2 focus:ring-accent-focus focus:ring-offset-1 focus:ring-offset-bg-primary
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply border border-border-default text-text-secondary rounded-md px-6 py-2.5 text-sm font-medium
           hover:bg-accent-muted hover:text-text-primary hover:border-border-light
           transition-colors duration-200
           focus:outline-none focus:ring-2 focus:ring-accent-focus focus:ring-offset-1 focus:ring-offset-bg-primary
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-ghost {
    @apply text-text-secondary rounded-md px-6 py-2.5 text-sm font-medium
           hover:bg-accent-muted hover:text-text-primary
           transition-colors duration-200
           focus:outline-none focus:ring-2 focus:ring-accent-focus focus:ring-offset-1 focus:ring-offset-bg-primary
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-danger {
    @apply bg-status-error text-text-onAccent rounded-md px-6 py-2.5 text-sm font-medium
           hover:bg-red-600 transition-colors duration-200
           focus:outline-none focus:ring-2 focus:ring-red-300 focus:ring-offset-1 focus:ring-offset-bg-primary
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Button sizes */
  .btn-sm {
    @apply px-3 py-1.5 text-sm;
  }

  .btn-md {
    @apply px-4 py-2 text-sm;
  }

  .btn-lg {
    @apply px-6 py-2.5 text-base;
  }

  .btn-xl {
    @apply px-8 py-3 text-lg;
  }

  /* Custom checkbox */
  .custom-checkbox {
    @apply w-5 h-5 rounded-full border-2 border-border-default
           flex items-center justify-center
           hover:border-accent-primary transition-colors duration-200;
  }

  /* Tag styles */
  .task-tag {
    @apply px-3 py-1.5 rounded-full bg-bg-tertiary text-xs font-medium
           hover:bg-accent-primary hover:bg-opacity-10 transition-colors duration-200 border border-border-default;
  }
}

@layer utilities {
  /* Glass effect for modals and overlays */
  .glass-effect {
    @apply backdrop-blur-sm bg-bg-primary bg-opacity-80;
  }

  /* Text gradient */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-accent-primary to-accent-secondary;
  }

  /* Card components */
  .card-base {
    @apply bg-bg-secondary border border-border-default rounded-lg;
  }

  .card-elevated {
    @apply bg-bg-secondary border border-border-default rounded-lg shadow-md;
  }

  .card-interactive {
    @apply bg-bg-secondary border border-border-default rounded-lg hover:border-border-light
           transition-colors cursor-pointer;
  }

  /* Input components */
  .input-base {
    @apply bg-bg-tertiary border border-border-default rounded-md px-4 py-2.5
           text-text-primary transition-colors duration-200
           focus:outline-none focus:border-accent-primary focus:ring-2 focus:ring-accent-focus;
  }

  .input-error {
    @apply border-status-error focus:border-status-error focus:ring-red-200;
  }

  /* Typography utilities */
  .heading-primary {
    @apply text-2xl font-bold text-text-primary;
  }

  .heading-secondary {
    @apply text-xl font-semibold text-text-primary;
  }

  .heading-tertiary {
    @apply text-lg font-medium text-text-primary;
  }

  .label-primary {
    @apply text-sm font-medium text-text-primary;
  }

  .label-secondary {
    @apply text-sm font-medium text-text-secondary;
  }

  /* Priority indicators */
  .priority-high {
    @apply text-priority-high bg-priority-highBg border border-priority-high;
  }

  .priority-medium {
    @apply text-priority-medium bg-priority-mediumBg border border-priority-medium;
  }

  .priority-low {
    @apply text-priority-low bg-priority-lowBg border border-priority-low;
  }

  .priority-completed {
    @apply text-priority-completed bg-priority-completedBg border border-priority-completed;
  }
}

/* Layout transitions */
.panel-transition {
  @apply transition-transform duration-300 ease-in-out;
}

/* Enhanced focus styles for accessibility */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-offset-1 focus:ring-offset-bg-primary;
}
